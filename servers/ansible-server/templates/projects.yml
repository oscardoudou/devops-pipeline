     
- project:
    name: project-example
    views:
        - Coverage view
    jobs:
        - 'iTrust_Coverage_job':
            name: iTrust_Coverage
            command: |
                rm -rf * 
                cp -avr /home/vagrant/iTrust /var/lib/jenkins/workspace/iTrust_Coverage_job
                cd iTrust/iTrust2
                mvn clean test verify checkstyle:checkstyle

        - 'iTrust_Analysis_job':
            name: iTrust_Analysis
            command: |
                rm -rf * 
                cp -avr /home/vagrant/iTrust /var/lib/jenkins/workspace/iTrust_Analysis_job
                cd iTrust/iTrust2
                mvn clean test verify checkstyle:checkstyle

        - 'iTrust_Fuzzer_job':
            name: iTrust_Fuzzer
            command: |
                rm -rf * 
                cp -avr /home/vagrant/iTrust /var/lib/jenkins/workspace/iTrust_Fuzzer_job
                cd iTrust/iTrust2
                mvn clean test verify checkstyle:checkstyle
        
        - 'checkbox_job_added':
            name: checkbox
            command: |
                rm -rf *
                cp -avr /home/vagrant/checkbox /var/lib/jenkins/workspace/checkbox_job
                cd checkbox/server-side/site/
                npm install
                npm test

# setting the view to contain jacoco coverage
- view-template:
    name: Coverage view
    view-type: list
    description: 'To present coverage report for iTrust job'
    filter-executors: false
    filter-queue: false
    job-name:
        - iTrust_job
    columns:
        - status
        - weather
        - job
        - build-button
        - jacoco
    recurse: true  