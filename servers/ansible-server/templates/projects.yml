     
- project:
    name: project-example
    views:
        - Coverage view
    jobs:
        - '{name}_job':
            name: iTrust_Analysis
            command: |
                rm -rf * 
                cp -avr /home/vagrant/iTrust /var/lib/jenkins/workspace/iTrust_Analysis_job
                cd iTrust/iTrust2
                mvn clean test verify checkstyle:checkstyle

        # - '{name}_job':
        #     name: iTrust
        #     command: |
        #         rm -rf * 
        #         cp -avr /home/vagrant/iTrust /var/lib/jenkins/workspace/iTrust_job
        #         cd iTrust/iTrust2
        #         mvn clean test verify checkstyle:checkstyle
        
        - '{name}_job_added':
            name: checkbox
            command: |
                rm -rf *
                cp -avr /home/vagrant/checkbox /var/lib/jenkins/workspace/checkbox_job
                cd checkbox/server-side/site/
                npm install
                npm test


                


# setting the view to contain jacoco coverage
- view-template:
    name: Coverage view
    view-type: list
    description: 'To present coverage report for iTrust job'
    filter-executors: false
    filter-queue: false
    job-name:
        - iTrust_job
    columns:
        - status
        - weather
        - job
        - build-button
        - jacoco
    recurse: true  